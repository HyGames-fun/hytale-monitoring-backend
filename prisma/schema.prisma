generator client {
  provider = "prisma-client"
  output   = "../generated/prisma"
}

datasource db {
  provider = "postgresql"
}

model User {
  id Int @id @default(autoincrement())

  name     String
  email    String @unique
  password String

  servers Server[]

  @@map("user")
}

model Server {
  id          Int    @id @default(autoincrement())
  ip          String @unique
  realIp      String @unique @map("real_ip")
  description String
  name        String
  tags        Tag[]
  region      Region

  userId Int?  @map("user_id")
  user   User? @relation(fields: [userId], references: [id])

  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt() @map("updated_at")

  @@map("server")
}

enum Region {
  CIS
  EUROPE
  ASIA
  AFRICA
  NORTHAMERICA
  SOUTHAMERICA
}

enum Tag {
  PVP
  PVE
  RP
  RPG
  VANILLA
  SURVIVAL
  MINIGAMES
}
